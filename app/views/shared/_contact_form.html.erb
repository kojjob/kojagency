<%= form_with model: (lead || Lead.new), url: leads_path, local: true, class: "space-y-6" do |form| %>
  <% if lead&.errors&.any? %>
    <div class="bg-red-50 border border-red-200 rounded-lg p-4 mb-6">
      <div class="flex">
        <div class="flex-shrink-0">
          <svg class="h-5 w-5 text-red-400" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd" />
          </svg>
        </div>
        <div class="ml-3">
          <h3 class="text-sm font-medium text-red-800">Please correct the following errors:</h3>
          <ul class="mt-2 text-sm text-red-700 list-disc list-inside">
            <% lead.errors.full_messages.each do |message| %>
              <li><%= message %></li>
            <% end %>
          </ul>
        </div>
      </div>
    </div>
  <% end %>

  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-2">First Name *</label>
      <%= form.text_field :first_name,
          class: "w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors",
          required: true,
          placeholder: "John" %>
    </div>
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-2">Last Name *</label>
      <%= form.text_field :last_name,
          class: "w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors",
          required: true,
          placeholder: "Doe" %>
    </div>
  </div>

  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-2">Email *</label>
      <%= form.email_field :email,
          class: "w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors",
          required: true,
          placeholder: "john@company.com" %>
    </div>
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-2">Phone</label>
      <%= form.telephone_field :phone,
          class: "w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors",
          placeholder: "+1 (555) 123-4567" %>
    </div>
  </div>

  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-2">Company</label>
      <%= form.text_field :company,
          class: "w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors",
          placeholder: "Your Company Name" %>
    </div>
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-2">Website</label>
      <%= form.url_field :website,
          class: "w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors",
          placeholder: "https://yourcompany.com" %>
    </div>
  </div>

  <div>
    <label class="block text-sm font-medium text-gray-700 mb-2">Project Type *</label>
    <%= form.select :project_type,
        options_for_select([
          ["Select a project type", ""],
          ["Web Development", "web_development"],
          ["Mobile Development", "mobile_development"],
          ["Data Engineering", "data_engineering"],
          ["Analytics Platform", "analytics_platform"],
          ["Technical Consulting", "technical_consulting"],
          ["Other", "other"]
        ], lead&.project_type),
        {},
        { class: "w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors", required: true } %>
  </div>

  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-2">Budget Range *</label>
      <%= form.select :budget,
          options_for_select([
            ["Select budget range", ""],
            ["Under $10,000", "under_10k"],
            ["$10,000 - $25,000", "10k_25k"],
            ["$25,000 - $50,000", "25k_50k"],
            ["$50,000 - $100,000", "50k_100k"],
            ["$100,000 - $250,000", "100k_250k"],
            ["$250,000+", "250k_plus"]
          ], lead&.budget),
          {},
          { class: "w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors", required: true } %>
    </div>
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-2">Timeline *</label>
      <%= form.select :timeline,
          options_for_select([
            ["Select timeline", ""],
            ["ASAP", "asap"],
            ["1 Month", "1_month"],
            ["3 Months", "3_months"],
            ["6 Months", "6_months"],
            ["1 Year", "1_year"],
            ["Flexible", "flexible"]
          ], lead&.timeline),
          {},
          { class: "w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors", required: true } %>
    </div>
  </div>

  <div>
    <label class="block text-sm font-medium text-gray-700 mb-2">Project Description *</label>
    <%= form.text_area :project_description,
        class: "w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors",
        rows: 5,
        required: true,
        placeholder: "Please describe your project requirements, goals, and any specific technical details. The more information you provide, the better we can help you." %>
    <p class="mt-1 text-sm text-gray-500">Minimum 20 characters required</p>
  </div>

  <div>
    <label class="block text-sm font-medium text-gray-700 mb-2">Preferred Contact Method</label>
    <%= form.select :preferred_contact_method,
        options_for_select([
          ["Email", "email"],
          ["Phone", "phone"],
          ["Either email or phone", "both"]
        ], lead&.preferred_contact_method || "email"),
        {},
        { class: "w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors" } %>
  </div>

  <%= form.hidden_field :source, value: "website" %>

  <div>
    <%= form.submit "Get Started",
        class: "w-full px-8 py-4 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-semibold rounded-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-300 cursor-pointer" %>
  </div>
<% end %>